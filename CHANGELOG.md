# История изменений

## 2026-01-17 03:29
Запрос: Настроить уведомления так, чтобы пуши приходили только на текущий аккаунт.
Изменения: добавлена очистка OneSignal ID при выходе и при смене пользователя, чтобы старый аккаунт не получал уведомления на этом устройстве.

## 2026-01-17 03:34
Запрос: Пуши всё равно приходят после выхода, нужно исправить.
Изменения: при logout дополнительно очищается OneSignal ID пользователя до signOut, чтобы сервер больше не знал старый playerId.

## 2026-01-17 03:42
Запрос: При логине показывать понятную ошибку "неверный пароль или почта".
Изменения: в обработке Firebase Auth ошибки wrong-password/user-not-found/invalid-credential заменены на текст "Неверный email или пароль.".

## 2026-01-17 03:46
Запрос: В сообщении ошибки отображается "Exception:" перед текстом, нужно убрать.
Изменения: при отображении ошибки логина убран префикс "Exception:".

## 2026-01-17 03:48
Запрос: Все ошибки и интерфейс должны быть на украинском.
Изменения: сообщения об ошибках и уведомления о публикации в UI переведены на украинский, включая текст об ошибке логина.

## 2026-01-17 03:55
Запрос: Реализовать OTA-обновления прямо в приложении (скачивание APK и запуск установки).
Изменения: добавлена загрузка APK через HTTP и запуск системного установщика, кнопка "Оновити", FileProvider и provider_paths.xml.

## 2026-01-17 03:57
Запрос: Нужен файл с инструкцией по публикации обновлений и объяснением ошибки "working tree is dirty".
Изменения: добавлен файл RELEASE_GUIDE.md с пошаговой инструкцией и типовыми командами.

## 2026-01-17 04:06
Запрос: Установка APK не предлагает разрешение, нужно чтобы установщик вызывался из приложения.
Изменения: добавлено разрешение REQUEST_INSTALL_PACKAGES и явный MIME type для APK при запуске установщика.

## 2026-01-17 04:33
Запрос: Версия приложения должна меняться автоматически при релизе (minor).
Изменения: скрипт publish_release.sh автоматически повышает minor-версию и коммитит её перед релизом; добавлено описание в RELEASE_GUIDE.md.

## 2026-01-17 04:41
Запрос: Автоматическая проверка обновлений при старте приложения.
Изменения: добавлена проверка GitHub Releases в NeoRoot при запуске и показ диалога обновления при наличии новой версии.

## 2026-01-17 05:00
Запрос: Настроить подпись релизов и добавить файл с путём к keystore.
Изменения: добавлен android/key.properties (шаблон), подключена release-подпись в android/app/build.gradle, key.properties добавлен в .gitignore.

## 2026-01-17 05:04
Запрос: Показать версию приложения внизу настроек и обновлять её при сборке.
Изменения: добавлен вывод версии из PackageInfo в NeoSettingsPage.

## 2026-01-17 05:17
Запрос: Додати кнопку "позначити все як прочитане" у сповіщеннях.
Зміни: додано кнопку в AppBar, яка позначає всі сповіщення як прочитані, та метод markAllNotificationsRead у сховищі.

## 2026-01-17 05:29
Запрос: Після першого апдейта наступні оновлення інколи вважаються пошкодженими.
Изменения: оновлювач тепер приймає лише .apk з релізу, використовує унікальну назву файлу і видаляє файл при помилці.

## 2026-01-17 05:35
Запрос: Називати APK у релізі як FreeObmin v<version>.
Изменения: publish_release.sh копіює app-release.apk у FreeObmin_v<version>.apk і публікує саме його.
